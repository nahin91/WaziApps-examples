<html>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/waziup-js@2.0.0-alpha.10/lib/Waziup.js"></script>
    <script>
      Waziup.ApiClient.instance.basePath = "https://api.waziup.io/api/v2";
      var api = new Waziup.DevicesApi();
      var info = {
          id: null,
          gateway_id: null,
          name: null,
          owner: null,
          visibility: null,
          date_created: null,
          date_modified: null,
          domain:null,
          sensors: [],
          actuators: null
      };
      api.getDevices().then(devices => {
        console.log(devices[0]);
        info.id = devices[0].id;
        info.gateway_id = devices[0].gateway_id;
        info.name = devices[0].name;
        info.owner = devices[0].owner;
        info.visibility = devices[0].visibility;
        info.date_created = devices[0].date_created;
        info.date_modified = devices[0].date_modified;
        info.domain = devices[0].domain;
        info.sensors = devices[0].sensors;
        info.actuators = devices[0].actuators.length > 0 ? devices[0].actuators : "no actuator found!";


        // for (device of devices) {
        //   names.push(device.id + ": ");
        //   for (sensor of device.sensors) {
        //     names.push(
        //       sensor.id + "=" + (sensor.value ? sensor.value.value : "") + "  "
        //     );
        //   }
        //   names.push("<br/>");
        // }
        document.getElementById("device_value").innerHTML = JSON.stringify(info);
      });
    </script>
    <h3>Single Device Information:</h3>
    <div id="device_value">
      waiting for device information...
    </div>
  </body>
</html>
